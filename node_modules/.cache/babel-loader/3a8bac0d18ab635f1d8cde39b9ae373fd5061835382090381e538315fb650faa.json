{"ast":null,"code":"var _jsxFileName = \"/Users/jiaweipan/daiki/src/component/Context.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState } from 'react';\nimport { Products } from '../products/Products';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const proContext = /*#__PURE__*/createContext(null);\nconst defaultCart = () => {\n  let cart = {};\n  for (let i = 1; i < Products.length + 1; i++) {\n    cart[i] = 0;\n  }\n  return cart;\n};\nexport const ContextProvider = props => {\n  _s();\n  const [cartItem, setCartItem] = useState(defaultCart());\n  const [searchItem, setSearchItem] = useState([]);\n  const AddProduct = itemId => {\n    setCartItem(prev => ({\n      ...prev,\n      [itemId]: prev[itemId] + 1\n    }));\n  };\n  const RemoveProduct = itemId => {\n    setCartItem(prev => ({\n      ...prev,\n      [itemId]: prev[itemId] - 1 > 0 ? prev[itemId] - 1 : 0\n    }));\n  };\n  const InputProduct = (itemId, inputValue) => {\n    setCartItem(prev => ({\n      ...prev,\n      [itemId]: inputValue > 0 ? inputValue : 0\n    }));\n  };\n  const TotalPrice = () => {\n    let total = 0;\n    for (const item in cartItem) {\n      if (cartItem[item] > 0) {\n        let itemInfo = Products.find(product => product.id === Number(item));\n        total += cartItem[item] * itemInfo.price;\n      }\n    }\n    return total;\n  };\n  const TotalNum = () => {\n    let totalNum = 0;\n    for (const item in cartItem) {\n      if (cartItem[item] > 0) {\n        totalNum += cartItem[item];\n      }\n    }\n    return totalNum;\n  };\n  const SearchValue = (newArr, a) => {\n    if (a === 1) {\n      return setSearchItem(newArr);\n    } else setSearchItem([]);\n  };\n  const contextValue = {\n    cartItem,\n    searchItem,\n    setCartItem,\n    AddProduct,\n    RemoveProduct,\n    InputProduct,\n    TotalPrice,\n    TotalNum,\n    SearchValue\n  };\n  return /*#__PURE__*/_jsxDEV(proContext.Provider, {\n    value: contextValue,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(ContextProvider, \"nJ43Ah40kC05ocKlGJ4W/wjiXI4=\");\n_c = ContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["React","createContext","useState","Products","proContext","defaultCart","cart","i","length","ContextProvider","props","cartItem","setCartItem","searchItem","setSearchItem","AddProduct","itemId","prev","RemoveProduct","InputProduct","inputValue","TotalPrice","total","item","itemInfo","find","product","id","Number","price","TotalNum","totalNum","SearchValue","newArr","a","contextValue","children"],"sources":["/Users/jiaweipan/daiki/src/component/Context.js"],"sourcesContent":["import React, { createContext, useState } from 'react'\nimport { Products } from '../products/Products';\n\nexport const proContext=createContext(null);\nconst defaultCart=()=>{\n    let cart={};\n    for(let i=1;i<Products.length+1;i++){\n        cart[i]=0;\n    }\n    return cart;\n}\n\nexport const  ContextProvider=(props)=> {\n    const[cartItem,setCartItem]=useState(defaultCart())\n    const[searchItem,setSearchItem]=useState([])\n\n    const AddProduct=(itemId)=>{\n    setCartItem((prev)=>({...prev,[itemId]:prev[itemId]+1}))\n    }\n    const RemoveProduct=(itemId)=>{\n        setCartItem((prev)=>({...prev,[itemId]:(prev[itemId]-1)>0?prev[itemId]-1:0}))\n    }\n    const InputProduct=(itemId,inputValue)=>{\n      setCartItem((prev)=>({...prev,[itemId]:inputValue>0?inputValue:0}))\n    }\n    const TotalPrice = () => {\n      let total = 0;\n      for (const item in cartItem) {\n        if (cartItem[item] > 0) {\n          let itemInfo = Products.find((product) => product.id === Number(item));\n          total += cartItem[item] * itemInfo.price;\n        }\n      }\n      return total;\n    };\n    const TotalNum=()=>{\n      let totalNum = 0;\n      for (const item in cartItem) {\n        if (cartItem[item] > 0) {\n          totalNum += cartItem[item];\n        }\n      }\n      return totalNum;\n    };\n    const SearchValue=(newArr,a)=>{\n      if (a===1){\n       return setSearchItem(newArr)}\n       else setSearchItem([])\n        \n    };\n    \n    const contextValue = {cartItem, searchItem,setCartItem,AddProduct,RemoveProduct,InputProduct,TotalPrice,TotalNum,SearchValue}\n  \n  return (\n    <proContext.Provider value= {contextValue}>\n      {props.children}\n      </proContext.Provider>\n  )\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}