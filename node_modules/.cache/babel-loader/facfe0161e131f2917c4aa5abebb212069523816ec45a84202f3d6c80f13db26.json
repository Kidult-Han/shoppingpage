{"ast":null,"code":"var _jsxFileName = \"/Users/jiaweipan/daiki/src/component/Context.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState } from 'react';\nimport { Products } from '../products/Products';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const proContext = /*#__PURE__*/createContext(null);\nconst defaultCart = () => {\n  let cart = {};\n  for (let i = 1; i < Products.length + 1; i++) {\n    cart[i] = 0;\n  }\n  return cart;\n};\nexport const ContextProvider = props => {\n  _s();\n  const [cartItem, setCartItem] = useState(defaultCart());\n  const AddProduct = itemId => {\n    setCartItem(prev => ({\n      ...prev,\n      [itemId]: prev[itemId] + 1\n    }));\n  };\n  const RemoveProduct = itemId => {\n    setCartItem(prev => ({\n      ...prev,\n      [itemId]: prev[itemId] - 1 > 0 ? prev[itemId] - 1 : 0\n    }));\n  };\n  const InputProduct = (itemId, inputValue) => {\n    setCartItem(prev => ({\n      ...prev,\n      [itemId]: inputValue > 0 ? inputValue : 0\n    }));\n  };\n  const TotalPrice = () => {\n    let total = 0;\n    for (const item in cartItem) {\n      if (cartItem[item] > 0) {\n        let itemInfo = Products.find(product => product.id === Number(item));\n        total += cartItem[item] * itemInfo.price;\n      }\n    }\n    return total;\n  };\n  const TotalNum = () => {\n    let totalNum = 0;\n    for (const item in cartItem) {\n      if (cartItem[item] > 0) {\n        let itemInfo = Products.find(product => product.id === Number(item));\n        console.log(itemInfo);\n        totalNum += cartItem[item] * itemInfo.price;\n      }\n    }\n    return totalNum;\n  };\n  console.log(TotalNum);\n  const contextValue = {\n    cartItem,\n    setCartItem,\n    AddProduct,\n    RemoveProduct,\n    InputProduct,\n    TotalPrice\n  };\n  return /*#__PURE__*/_jsxDEV(proContext.Provider, {\n    value: contextValue,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(ContextProvider, \"DapHt5WOavMe4DZIeW9syKTGFu8=\");\n_c = ContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["React","createContext","useState","Products","proContext","defaultCart","cart","i","length","ContextProvider","props","cartItem","setCartItem","AddProduct","itemId","prev","RemoveProduct","InputProduct","inputValue","TotalPrice","total","item","itemInfo","find","product","id","Number","price","TotalNum","totalNum","console","log","contextValue","children"],"sources":["/Users/jiaweipan/daiki/src/component/Context.js"],"sourcesContent":["import React, { createContext, useState } from 'react'\nimport { Products } from '../products/Products';\n\nexport const proContext=createContext(null);\nconst defaultCart=()=>{\n    let cart={};\n    for(let i=1;i<Products.length+1;i++){\n        cart[i]=0;\n    }\n    return cart;\n}\n\nexport const  ContextProvider=(props)=> {\n    const[cartItem,setCartItem]=useState(defaultCart())\n\n    const AddProduct=(itemId)=>{\n    setCartItem((prev)=>({...prev,[itemId]:prev[itemId]+1}))\n    }\n    const RemoveProduct=(itemId)=>{\n        setCartItem((prev)=>({...prev,[itemId]:(prev[itemId]-1)>0?prev[itemId]-1:0}))\n    }\n    const InputProduct=(itemId,inputValue)=>{\n      setCartItem((prev)=>({...prev,[itemId]:inputValue>0?inputValue:0}))\n    }\n    const TotalPrice = () => {\n      let total = 0;\n      for (const item in cartItem) {\n        if (cartItem[item] > 0) {\n          let itemInfo = Products.find((product) => product.id === Number(item));\n          total += cartItem[item] * itemInfo.price;\n        }\n      }\n      return total;\n    };\n    const TotalNum=()=>{\n      let totalNum = 0;\n      for (const item in cartItem) {\n        if (cartItem[item] > 0) {\n          let itemInfo = Products.find((product) => product.id === Number(item));\n          console.log(itemInfo)\n          totalNum += cartItem[item] * itemInfo.price;\n        }\n      }\n      return totalNum;\n    };\n    console.log(TotalNum)\n    \n    const contextValue = {cartItem, setCartItem,AddProduct,RemoveProduct,InputProduct,TotalPrice}\n  \n  return (\n    <proContext.Provider value= {contextValue}>\n      {props.children}\n      </proContext.Provider>\n  )\n}\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AACtD,SAASC,QAAQ,QAAQ,sBAAsB;AAAC;AAEhD,OAAO,MAAMC,UAAU,gBAACH,aAAa,CAAC,IAAI,CAAC;AAC3C,MAAMI,WAAW,GAAC,MAAI;EAClB,IAAIC,IAAI,GAAC,CAAC,CAAC;EACX,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACJ,QAAQ,CAACK,MAAM,GAAC,CAAC,EAACD,CAAC,EAAE,EAAC;IAChCD,IAAI,CAACC,CAAC,CAAC,GAAC,CAAC;EACb;EACA,OAAOD,IAAI;AACf,CAAC;AAED,OAAO,MAAOG,eAAe,GAAEC,KAAK,IAAI;EAAA;EACpC,MAAK,CAACC,QAAQ,EAACC,WAAW,CAAC,GAACV,QAAQ,CAACG,WAAW,EAAE,CAAC;EAEnD,MAAMQ,UAAU,GAAEC,MAAM,IAAG;IAC3BF,WAAW,CAAEG,IAAI,KAAI;MAAC,GAAGA,IAAI;MAAC,CAACD,MAAM,GAAEC,IAAI,CAACD,MAAM,CAAC,GAAC;IAAC,CAAC,CAAC,CAAC;EACxD,CAAC;EACD,MAAME,aAAa,GAAEF,MAAM,IAAG;IAC1BF,WAAW,CAAEG,IAAI,KAAI;MAAC,GAAGA,IAAI;MAAC,CAACD,MAAM,GAAGC,IAAI,CAACD,MAAM,CAAC,GAAC,CAAC,GAAE,CAAC,GAACC,IAAI,CAACD,MAAM,CAAC,GAAC,CAAC,GAAC;IAAC,CAAC,CAAC,CAAC;EACjF,CAAC;EACD,MAAMG,YAAY,GAAC,CAACH,MAAM,EAACI,UAAU,KAAG;IACtCN,WAAW,CAAEG,IAAI,KAAI;MAAC,GAAGA,IAAI;MAAC,CAACD,MAAM,GAAEI,UAAU,GAAC,CAAC,GAACA,UAAU,GAAC;IAAC,CAAC,CAAC,CAAC;EACrE,CAAC;EACD,MAAMC,UAAU,GAAG,MAAM;IACvB,IAAIC,KAAK,GAAG,CAAC;IACb,KAAK,MAAMC,IAAI,IAAIV,QAAQ,EAAE;MAC3B,IAAIA,QAAQ,CAACU,IAAI,CAAC,GAAG,CAAC,EAAE;QACtB,IAAIC,QAAQ,GAAGnB,QAAQ,CAACoB,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACC,EAAE,KAAKC,MAAM,CAACL,IAAI,CAAC,CAAC;QACtED,KAAK,IAAIT,QAAQ,CAACU,IAAI,CAAC,GAAGC,QAAQ,CAACK,KAAK;MAC1C;IACF;IACA,OAAOP,KAAK;EACd,CAAC;EACD,MAAMQ,QAAQ,GAAC,MAAI;IACjB,IAAIC,QAAQ,GAAG,CAAC;IAChB,KAAK,MAAMR,IAAI,IAAIV,QAAQ,EAAE;MAC3B,IAAIA,QAAQ,CAACU,IAAI,CAAC,GAAG,CAAC,EAAE;QACtB,IAAIC,QAAQ,GAAGnB,QAAQ,CAACoB,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACC,EAAE,KAAKC,MAAM,CAACL,IAAI,CAAC,CAAC;QACtES,OAAO,CAACC,GAAG,CAACT,QAAQ,CAAC;QACrBO,QAAQ,IAAIlB,QAAQ,CAACU,IAAI,CAAC,GAAGC,QAAQ,CAACK,KAAK;MAC7C;IACF;IACA,OAAOE,QAAQ;EACjB,CAAC;EACDC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;EAErB,MAAMI,YAAY,GAAG;IAACrB,QAAQ;IAAEC,WAAW;IAACC,UAAU;IAACG,aAAa;IAACC,YAAY;IAACE;EAAU,CAAC;EAE/F,oBACE,QAAC,UAAU,CAAC,QAAQ;IAAC,KAAK,EAAGa,YAAa;IAAA,UACvCtB,KAAK,CAACuB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACO;AAE5B,CAAC;AAAA,GA1CaxB,eAAe;AAAA,KAAfA,eAAe;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}